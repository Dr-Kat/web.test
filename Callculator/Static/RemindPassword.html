<!DOCTYPE html>
<html>
<body>
    <div style="display:table-cell; width:100%">
        <input id="email" style="width: 245px" onchange="clearError()">
        <button onclick="hide()">x</button>
    </div>
    <br>
    <button onclick="send()">Send</button>
    <br>
    <br>
    <label id="message" hidden style="color:red"></label>
</body>
</html>


<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<script>
    function validateEmail(email) {
        const re = /^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
        return re.test(String(email).toLowerCase());
    }

    function clearError() {
        document.getElementById('message').hidden = true;
        document.getElementById('message').textContent = '';
    }

    function hide() {
        clearError();
        window.frameElement.hidden = true;
    }

    function send() {
        let email = document.getElementById('email').value.toLowerCase();

        if (email === 'test@test.com') {
            hide();
            alert('Email with instructions was sent to ' + email);
            return;
        }

        if (validateEmail(email)) {
            document.getElementById('message').hidden = false;
            document.getElementById('message').textContent = 'No user was found';
        } else {
            document.getElementById('message').hidden = false;
            document.getElementById('message').textContent = 'Invalid email';
        }
    }
</script>